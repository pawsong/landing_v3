"use strict";angular.module("angular-scroll-animate",[]),angular.module("angular-scroll-animate",[]).directive("whenVisible",["$document","$window",function(e,n){var i=function(e,n,i,t,a,r){var o=e[0].getBoundingClientRect(),l=o.top,c=o.bottom,u=a*o.height,s=c-u>0&&n>c,d=n>=l+u&&l>0;e.data("hidden")&&s||d?(i(e,r),e.data("hidden",!1)):!e.data("hidden")&&(0>c||l>n)&&(t(e,r),e.data("hidden",!0))};return{restrict:"A",scope:{whenVisible:"&",whenNotVisible:"&?",delayPercent:"=?"},controller:["$scope",function(e){if(!e.whenVisible||!angular.isFunction(e.whenVisible()))throw new Error("Directive: angular-scroll-animate 'when-visible' attribute must specify a function.");if(e.whenNotVisible&&!angular.isFunction(e.whenNotVisible()))throw new Error("Directive: angular-scroll-animate 'when-not-visible' attribute must specify a function.");if(e.whenNotVisible||(e.whenNotVisible=function(){return angular.noop}),e.delayPercent){var n=parseFloat(e.delayPercent);if(!angular.isNumber(n)||0>n||n>1)throw new Error("Directive: angular-scroll-animate 'delay-percent' attribute must be a decimal fraction between 0 and 1.")}}],link:function(t,a,r){var o=r.delayPercent||.25,l=function(){var n=e[0].documentElement,r=n.clientHeight;i(a,r,t.whenVisible(),t.whenNotVisible(),o,t)},c="scroll";e.on(c,l),t.$on("$destroy",function(){e.off(c,l)});var u=angular.element(n),s="resize orientationchange";u.on(s,l),t.$on("$destroy",function(){u.off(s,l)}),a.data("hidden",!0),t.$evalAsync(l)}}}]);